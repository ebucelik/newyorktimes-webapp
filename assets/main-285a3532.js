import"./modulepreload-polyfill-3cfb730f.js";/* empty css               */const E="CkzgbYpuzYmKXrLwQt2ipSEzRAEkxNG8";async function y(t){return t=t+"?api-key="+E,await(await fetch(t,{method:"GET",headers:{"content-type":"application/json;charset=UTF-8"}})).json()}var v=(t=>(t.World="World",t.Arts="Arts",t.Home="Home",t.Science="Science",t.US="US",t))(v||{});const p=document.getElementById("topic-dropdown");let i=[];const g=localStorage.getItem("topStories");g!=null&&(i=JSON.parse(g));const b=document.getElementById("favorites");b!=null&&(b.textContent=i.length>0?"Favorites ("+i.length+")":"Favorites");for(const t in v){const e=document.createElement("li"),n=document.createElement("button");n.classList.add("dropdown-item"),n.setAttribute("type","button"),n.addEventListener("click",()=>C(t)),n.textContent=t,e.appendChild(n),p==null||p.appendChild(e)}function C(t){const e=document.getElementById("dropdown-button");e!=null&&(e.textContent=t),y("https://api.nytimes.com/svc/topstories/v2/"+t.toLowerCase()+".json").then(n=>{A(n)})}function A(t){const e=document.getElementById("topStories");e==null||e.replaceChildren();let n=document.createElement("ul");n.setAttribute("class","list-group list-group-horizontal d-flex justify-content-center"),t.results.forEach((o,f)=>{const r=document.createElement("li");r.setAttribute("class","list-group-item");const c=document.createElement("div");c.setAttribute("class","card m-3"),c.setAttribute("style","width: 18rem;");const l=document.createElement("img");l.setAttribute("class","card-img-top");const a=document.createElement("div");a.setAttribute("class","card-body");const u=document.createElement("h5");u.setAttribute("class","card-title"),u.textContent=o.title;const d=document.createElement("p");d.setAttribute("class","card-text"),o.multimedia!=null?(l.setAttribute("src",o.multimedia[0].url),d.textContent=o.multimedia[0].caption):(l.setAttribute("src","resources/noimage.jpg"),d.textContent="Article not available"),a.appendChild(u),a.appendChild(d),c.appendChild(l),c.appendChild(a);const s=document.createElement("img");s.src=m(o.uri)?"https:///ebucelik.github.io/newyorktimes-webapp/assets/resources/favorite-filled-72c0af0f.png":"https:///ebucelik.github.io/newyorktimes-webapp/assets/resources/favorite-b48fd479.png",s.setAttribute("width","25px"),s.setAttribute("height","25px"),s.addEventListener("click",()=>w(o,s)),r.appendChild(s),r.appendChild(c),n.appendChild(r),(f+1)%3==0&&(e==null||e.appendChild(n),n=document.createElement("ul"),n.setAttribute("class","list-group list-group-horizontal d-flex justify-content-center")),t.results.length==f+1&&t.results.length%3>0&&(e==null||e.appendChild(n));const h=document.getElementById("favorites");h!=null&&(h.textContent=i.length>0?"Favorites ("+i.length+")":"Favorites")})}function w(t,e){if(m(t.uri)){const o=i.indexOf(t,0);i.splice(o,1)}else i.push(t);localStorage.setItem("topStories",JSON.stringify(i)),e.src=m(t.uri)?"https:///ebucelik.github.io/newyorktimes-webapp/assets/resources/favorite-filled-72c0af0f.png":"https:///ebucelik.github.io/newyorktimes-webapp/assets/resources/favorite-b48fd479.png";const n=document.getElementById("favorites");n!=null&&(n.textContent=i.length>0?"Favorites ("+i.length+")":"Favorites")}function m(t){return i.find(e=>e.uri==t)!=null}
